#include "Board.h"
#include <string>
#include "utils.h"

Board::Board() : board{ {"############################### ########################################### ####"}, 
						{"#*************#**************#*************************************************#"},
						{" *************#***********************************#**************************** "},
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#****************************#*************************************************#"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#****************************#*************************************************#"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{" ****************************#************************************************* "}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#****************************#*************************************************#"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#####*###*###########**###########################################*#############"}, 
						{"#****************************#*************************************************#"}, 
						{"############################### ########################################### ####"}} 
{}

void Board::setBoard(char _board[HEIGHT][WIDTH]) {
	breadCurmbs = 0;
	for (int i = 0; i < HEIGHT; i++) {
		for (int j = 0; j < WIDTH; j++) {
			if (_board[i][j] == '*') breadCurmbs++;
			board[i][j] = _board[i][j];
		}
	}
}

void Board::print() {
	for (int i = 0; i < HEIGHT; i++) {
		for (int j = 0; j < WIDTH; j++) {
			if (board[i][j] != '*') setElementColor(color);
			cout << board[i][j];
			setElementColor(DEFAULT);
		}
		cout << endl;
	}
}

void Board::setPos(const Position& pos, char c) {
	if (board[pos.getY()][pos.getX()] == '*') breadCurmbs--;
	board[pos.getY()][pos.getX()] = c;
}

bool Board::isNoBreadCrumbs() {
	return (breadCurmbs == 0);
}

void Board::drawPos(const Position& pos) {
	gotoxyPos(pos);
	cout << board[pos.getY()][pos.getX()];
}




